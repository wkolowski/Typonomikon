<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="coqdoc.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery-3.5.1.js"></script>
<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="MyStyles.js"></script>
<title>Typonomikon</title>
</head>
<h1 class="libtitle">B3e: Relacje a funkcje [TODO]</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">FunctionalExtensionality</span> <span class="id" title="var">Nat</span> <span class="id" title="var">Lia</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">List</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Typonomikon</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">B3d</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab218"></a><h1 class="section">Rodzaje relacji heterogenicznych</h1>

<div class="paragraph"> </div>

<a id="lab219"></a><h2 class="section">Relacje lewo- i prawostronnie unikalne</h2>

</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">LeftUnique</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">left_unique</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>), <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a'</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">a'</span><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">RightUnique</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">right_unique</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">B</span>), <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b'</span> -&gt; <span class="id" title="var">b</span> = <span class="id" title="var">b'</span><br/>
}.<br/>

<br/>
</div>

<div class="doc">
Dwoma podstawowymi rodzajami relacji są relacje unikalne z lewej i prawej
    strony. Relacja lewostronnie unikalna to taka, dla której każde <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">B</span></span>
    jest w relacji z co najwyżej jednym <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span>. Analogicznie definiujemy
    relację prawostronnie unikalną. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftUnique_eq</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) : <span class="id" title="var">LeftUnique</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightUnique_eq</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) : <span class="id" title="var">RightUnique</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
</div>

<div class="doc">
Najbardziej elementarną intuicję stojącą za tymi koncepcjami można
    przedstawić na przykładzie relacji równości: jeżeli dwa obiekty są
    równe jakiemuś trzeciemu obiektowi, to muszą być także równe sobie
    nawzajem.

<div class="paragraph"> </div>

    Pojęcie to jest jednak bardziej ogólne i dotyczy także relacji, które
    nie są homogeniczne. W szczególności jest ono różne od pojęcia relacji
    przechodniej, które pojawi się już niedługo. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftUnique_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftUnique</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">LeftUnique</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightUnique_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightUnique</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightUnique</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">RightUnique</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
</div>

<div class="doc">
Składanie zachowuje oba rodzaje relacji unikalnych. Nie ma tu co
    za dużo filozofować — żeby się przekonać, narysuj obrazek. TODO. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftUnique_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightUnique</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftUnique</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightUnique_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightUnique</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Już na pierwszy rzut oka widać, że pojęcia te są w pewien sposób
    symetryczne. Aby uchwycić tę symetrię, możemy posłużyć się operacją
    <span class="inlinecode"><span class="id" title="var">Rinv</span></span>. Okazuje się, że zamiana miejscami argumentów relacji lewostronnie
    unikalnej daje relację prawostronnie unikalną i vice versa. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftUnique_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftUnique</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightUnique_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightUnique</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightUnique</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_LeftUnique_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">LeftUnique</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">LeftUnique</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_RightUnique_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightUnique</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">RightUnique</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">RightUnique</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
</div>

<div class="doc">
Koniunkcja relacji unikalnej z inną daje relację unikalną, ale dysjunkcja
    nawet dwóch relacji unikalnych nie musi dawać w wyniku relacji unikalnej.
    Wynika to z interpretacji operacji na relacjach jako operacji na
    kolekcjach par.

<div class="paragraph"> </div>

    Wyobraźmy sobie, że relacja <span class="inlinecode"><span class="id" title="var">R</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">hrel</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">B</span></span> to kolekcja par <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode">*</span> <span class="inlinecode"><span class="id" title="var">B</span></span>.
    Jeżeli para jest elementem kolekcji, to jej pierwszy komponent jest w
    relacji <span class="inlinecode"><span class="id" title="var">R</span></span> z jej drugim komponentem. Dysjunkcję relacji <span class="inlinecode"><span class="id" title="var">R</span></span> i <span class="inlinecode"><span class="id" title="var">S</span></span> w
    takim układzie stanowi kolekcja, która zawiera zarówno pary z kolekcji
    odpowiadającej <span class="inlinecode"><span class="id" title="var">R</span></span>, jak i te z kolekcji odpowiadającej <span class="inlinecode"><span class="id" title="var">S</span></span>. Koniunkcja
    odpowiada kolekcji par, które są zarówno w kolekcji odpowiadającej <span class="inlinecode"><span class="id" title="var">R</span></span>,
    jak i tej odpowiadającej <span class="inlinecode"><span class="id" title="var">S</span></span>.

<div class="paragraph"> </div>

    Tak więc dysjunkcja <span class="inlinecode"><span class="id" title="var">R</span></span> i <span class="inlinecode"><span class="id" title="var">S</span></span> może do <span class="inlinecode"><span class="id" title="var">R</span></span> "dorzucić" jakieś pary, ale
    nie może ich zabrać. Analogicznie, koniunkcja <span class="inlinecode"><span class="id" title="var">R</span></span> i <span class="inlinecode"><span class="id" title="var">S</span></span> może zabrać
    pary z <span class="inlinecode"><span class="id" title="var">R</span></span>, ale nie może ich dodać.

<div class="paragraph"> </div>

    Teraz interpretacja naszego wyniku jest prosta. W przypadku relacji
    lewostronnie unikalnych jeżeli każde <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">B</span></span> jest w relacji z co
    najwyżej jednym <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span>, to potencjalne zabranie jakichś par z tej
    relacji niczego nie zmieni. Z drugiej strony, nawet jeżeli obie relacje
    są lewostronnie unikalne, to dodanie do <span class="inlinecode"><span class="id" title="var">R</span></span> par z <span class="inlinecode"><span class="id" title="var">S</span></span> może spowodować
    wystąpienie powtórzeń, co niszczy unikalność. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_LeftUnique_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">LeftUnique</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_RightUnique_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">LeftUnique</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Negacja relacji unikalnej również nie musi być unikalna. Spróbuj podać
    interpretację tego wyniku z punktu widzenia operacji na kolekcjach par. 
<div class="paragraph"> </div>

<a id="lab220"></a><h4 class="section">Ćwiczenie</h4>

<div class="paragraph"> </div>

 Znajdź przykład relacji, która:
<ul class="doclist">
<li> nie jest unikalna ani lewostronnie, ani prawostronnie

</li>
<li> jest unikalna lewostronnie, ale nie prawostronnie

</li>
<li> jest unikalna prawostronnie, ale nie nie lewostronnie

</li>
<li> jest obustronnie unikalna 

</li>
</ul>
</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
<a id="lab221"></a><h2 class="section">Relacje lewo- i prawostronnie totalne</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">LeftTotal</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">left_total</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="tactic">exists</span> <span class="id" title="var">b</span> : <span class="id" title="var">B</span>, <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">RightTotal</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">right_total</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> : <span class="id" title="var">B</span>, <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span><br/>
}.<br/>

<br/>
</div>

<div class="doc">
Kolejnymi dwoma rodzajami heterogenicznych relacji binarnych są relacje
    lewo- i prawostronnie totalne. Relacja lewostronnie totalna to taka, że
    każde <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> jest w relacji z jakimś elementem <span class="inlinecode"><span class="id" title="var">B</span></span>. Definicja relacji
    prawostronnie totalnej jest analogiczna.

<div class="paragraph"> </div>

    Za pojęciem tym nie stoją jakieś wielkie intuicje: relacja lewostronnie
    totalna to po prostu taka, w której żaden element <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> nie jest
    "osamotniony". 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftTotal_RTrue</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">LeftTotal</span> (@<span class="id" title="var">RTrue</span> <span class="id" title="var">A</span> <span class="id" title="var">A</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightTotal_RTrue</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">RightTotal</span> (@<span class="id" title="var">RTrue</span> <span class="id" title="var">A</span> <span class="id" title="var">A</span>).<br/>

<br/>
</div>

<div class="doc">
TODO 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftTotal_RFalse_Empty</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">LeftTotal</span> (@<span class="id" title="var">RFalse</span> <span class="id" title="var">Empty_set</span> <span class="id" title="var">Empty_set</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightTotal_RFalse_Empty</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">RightTotal</span> (@<span class="id" title="var">RFalse</span> <span class="id" title="var">Empty_set</span> <span class="id" title="var">Empty_set</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_LeftTotal_RFalse_inhabited</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">A</span> -&gt; ~ <span class="id" title="var">LeftTotal</span> (@<span class="id" title="var">RFalse</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_RightTotal_RFalse_inhabited</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">B</span> -&gt; ~ <span class="id" title="var">RightTotal</span> (@<span class="id" title="var">RFalse</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
</div>

<div class="doc">
TODO 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftTotal_eq</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">LeftTotal</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightTotal_eq</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">RightTotal</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
</div>

<div class="doc">
Równość jest relacją totalną, gdyż każdy term <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> jest równy samemu
    sobie. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftTotal_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftTotal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftTotal</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">LeftTotal</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightTotal_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightTotal</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">RightTotal</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightTotal_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftTotal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightTotal</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftTotal_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftTotal</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Między lewo- i prawostronną totalnością występuje podobna symetria jak
    między dwoma formami unikalności: relacja odwrotna do lewostronnie
    totalnej jest prawostronnie totalna i vice versa. Totalność jest również
    zachowywana przez składanie. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_LeftTotal_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">RightTotal</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_RightTotal_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">RightTotal</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Negacja relacji totalnej nie może być totalna. Nie ma się co dziwić —
    negacja wyrzuca z relacji wszystkie pary, których w niej nie było, a
    więc pozbywa się czynnika odpowiedzialnego za totalność. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_LeftTotal_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftTotal</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">LeftTotal</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">LeftTotal</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_RightTotal_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">RightTotal</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">RightTotal</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">LeftTotal_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftTotal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftTotal</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">RightTotal_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightTotal</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
</div>

<div class="doc">
Związki totalności z koniunkcją i dysjunkcją relacji są podobne jak
    w przypadku unikalności, lecz tym razem to dysjunkcja zachowuje
    właściwość, a koniunkcja ją niszczy. Wynika to z tego, że dysjunkcja
    nie zabiera żadnych par z relacji, więc nie może uszkodzić totalności.
    Z drugiej strony koniunkcja może zabrać jakąś parę, a wtedy relacja
    przestaje być totalna. 
<div class="paragraph"> </div>

<a id="lab222"></a><h4 class="section">Ćwiczenie</h4>

<div class="paragraph"> </div>

 Znajdź przykład relacji, która:
<ul class="doclist">
<li> nie jest totalna ani lewostronnie, ani prawostronnie

</li>
<li> jest totalna lewostronnie, ale nie prawostronnie

</li>
<li> jest totalna prawostronnie, ale nie nie lewostronnie

</li>
<li> jest obustronnie totalna 
</li>
</ul>

<div class="paragraph"> </div>

 Bonusowe punkty za relację, która jest "naturalna", tzn. nie została
    wymyślona na chama specjalnie na potrzeby zadania. 
</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
<a id="lab223"></a><h1 class="section">Rodzaje relacji heterogenicznych v2</h1>

<div class="paragraph"> </div>

 Poznawszy cztery właściwości, jakie relacje mogą posiadać, rozważymy
    teraz relacje, które posiadają dwie lub więcej z tych właściwości. 
<div class="paragraph"> </div>

<a id="lab224"></a><h2 class="section">Relacje funkcyjne</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">Functional</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">F_LT</span> :&gt; <span class="id" title="var">LeftTotal</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">F_RU</span> :&gt; <span class="id" title="var">RightUnique</span> <span class="id" title="var">R</span>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
Lewostronną totalność i prawostronną unikalność możemy połączyć, by
    uzyskać pojęcie relacji funkcyjnej. Relacja funkcyjna to relacja,
    która ma właściwości takie, jak funkcje — każdy lewostronny argument
    <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A</span></span> jest w relacji z dokładnie jednym <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">B</span></span> po prawej stronie. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">fun_to_Functional</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Functional</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) =&gt; <span class="id" title="var">f</span> <span class="id" title="var">a</span> = <span class="id" title="var">b</span>).<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">IndefiniteDescription</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Functional_to_fun</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">F</span> : <span class="id" title="var">Functional</span> <span class="id" title="var">R</span>) : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">F</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">LT</span>] [<span class="id" title="var">RU</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">LT</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">constructive_indefinite_description</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">LT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">b</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">exact</span> <span class="id" title="var">b</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Z każdej funkcji można w prosty sposób zrobić relację funkcyjną, ale
    bez dodatkowych aksjomatów nie jesteśmy w stanie z relacji funkcyjnej
    zrobić funkcji. Przemilczając kwestie aksjomatów możemy powiedzieć
    więc, że relacje funkcyjne odpowiadają funkcjom. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Functional_eq</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">Functional</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
</div>

<div class="doc">
Równość jest rzecz jasna relacją funkcyjną. Funkcją odpowiadającą
    relacji <span class="inlinecode">@<span class="id" title="var">eq</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> jest funkcja identycznościowa <span class="inlinecode">@<span class="id" title="var">id</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span>. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Functional_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Functional</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Functional</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">Functional</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
</div>

<div class="doc">
Złożenie relacji funkcyjnych również jest relacją funkcyjną. Nie powinno
    nas to dziwić — wszakże relacje funkcyjne odpowiadają funkcjom, a złożenie
    funkcji jest przecież funkcją. Jeżeli lepiej mu się przyjrzeć, to okazuje
    się, że składanie funkcji odpowiada składaniu relacji, a stąd już prosta
    droga do wniosku, że złożenie relacji funkcyjnych jest relacją funkcyjną.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Functional_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Functional</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">Functional</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Odwrotność relacji funkcyjnej nie musi być funkcyjna. Dobrą wizualicją
    tego faktu może być np. funkcja f(x) = x^2 na liczbach rzeczywistych.
    Z pewnością jest to funkcja, a zatem relacja funkcyjna. Widać to na jej
    wykresie — każdemu punktowi dziedziny odpowiada dokładnie jeden punkt
    przeciwdziedziny. Jednak po wykonaniu operacji <span class="inlinecode"><span class="id" title="var">Rinv</span></span>, której odpowiada
    tutaj obrócenie układu współrzędnych o 90 stopni, nie otrzymujemy wcale
    wykresu funkcji. Wprost przeciwnie — niektórym punktom z osi X na takim
    wykresie odpowiadają dwa punkty na osi Y (np. punktowi 4 odpowiadają 2
    i -2). Stąd wnioskujemy, że odwrócenie relacji funkcyjnej f nie daje w
    wyniku relacji funkcyjnej. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Functional_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Functional</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Functional</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Functional</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Functional_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Functional</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Functional</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Functional</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Functional_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Functional</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">Functional</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Ani koniunkcje, ani dysjunkcje, ani negacje relacji funkcyjnych nie
    muszą być wcale relacjami funkcyjnymi. Jest to po części konsekwencją
    właściwości relacji lewostronnie totalnych i prawostronnie unikalnych:
    pierwsze mają problem z <span class="inlinecode"><span class="id" title="var">Rand</span></span>, a drugie z <span class="inlinecode"><span class="id" title="var">Ror</span></span>, oba zaś z <span class="inlinecode"><span class="id" title="var">Rnot</span></span>. 
<div class="paragraph"> </div>

<a id="lab225"></a><h4 class="section">Ćwiczenie</h4>

<div class="paragraph"> </div>

 Możesz zadawać sobie pytanie: po co nam w ogóle pojęcie relacji
    funkcyjnej, skoro mamy funkcje? Funkcje muszą być obliczalne (ang.
    computable) i to na mocy definicji, zaś relacje — niekonieczne.
    Czasem prościej może być najpierw zdefiniować relację, a dopiero
    później pokazać, że jest funkcyjna. Czasem zdefiniowanie danego
    bytu jako funkcji może być niemożliwe.

<div class="paragraph"> </div>

    Funkcję Collatza klasycznie definiuje się w ten sposób: jeżeli n
    jest parzyste, to f(n) = n/2. W przeciwnym przypadku f(n) = 3n + 1.

<div class="paragraph"> </div>

    Zaimplementuj tę funkcję w Coqu. Spróbuj zaimplementować ją zarówno
    jako funkcję rekurencyjną, jak i relację. Czy twoja funkcja dokładnie
    odpowiada powyższej specyfikacji? Czy jesteś w stanie pokazać, że twoja
    relacja jest funkcyjna?

<div class="paragraph"> </div>

    Udowodnij, że f(42) = 1. 
</div>
<div class="code">

<br/>

<br/>
</div>

<div class="doc">
<a id="lab226"></a><h2 class="section">Relacje injektywne</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">Injective</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">I_Fun</span> :&gt; <span class="id" title="var">Functional</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">I_LU</span> :&gt; <span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span>;<br/>
}.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;injective<br/>
[export]
Instance inj_to_Injective :
  forall (A B : Type) (f : A -> B),
    injective f -> Injective (fun (a : A) (b : B) => f a = b).
(* begin hide *)</span><br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">fun_to_Functional</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rel</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*&nbsp;end&nbsp;hide&nbsp;*)</span><br/>
*)<br/>
<br/>
</div>

<div class="doc">
Relacje funkcyjne, które są lewostronnie unikalne, odpowiadają funkcjom
    injektywnym. 
</div>
<div class="code">
<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Injective_eq</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">Injective</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Injective_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Injective</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Injective</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">Injective</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Injective_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Injective</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">Injective</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Injective_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Injective</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Injective</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Injective</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Injective_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Injective</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Injective</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Injective</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Injective_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Injective</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">Injective</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Właściwości relacji injektywnych są takie, jak funkcji injektywnych,
    gdyż te pojęcia ściśle sobie odpowiadają. 
<div class="paragraph"> </div>

<a id="lab227"></a><h4 class="section">Ćwiczenie</h4>

<div class="paragraph"> </div>

 Udowodnij, że powyższe zdanie nie kłamie. 
</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;injective<br/>
Lemma&nbsp;injective_Injective&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;(A&nbsp;B&nbsp;:&nbsp;Type)&nbsp;(f&nbsp;:&nbsp;A&nbsp;-&gt;&nbsp;B),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;injective&nbsp;f&nbsp;&lt;-&gt;&nbsp;Injective&nbsp;(fun&nbsp;(a&nbsp;:&nbsp;A)&nbsp;(b&nbsp;:&nbsp;B)&nbsp;=&gt;&nbsp;f&nbsp;a&nbsp;=&nbsp;b).<br/>
<span class="comment">(*&nbsp;begin&nbsp;hide&nbsp;*)</span><br/>
Proof.<br/>
&nbsp;&nbsp;split.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;compute;&nbsp;intros.&nbsp;repeat&nbsp;split;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;(f&nbsp;a).&nbsp;reflexivity.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H0,&nbsp;&lt;-&nbsp;H1.&nbsp;reflexivity.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;H.&nbsp;rewrite&nbsp;H0,&nbsp;H1.&nbsp;reflexivity.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;1&nbsp;as&nbsp;<span class="inlinecode">[[]</span> <span class="inlinecode">[]]</span> <span class="inlinecode">[]</span>.&nbsp;red.&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;left_unique0&nbsp;with&nbsp;(f&nbsp;x').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assumption.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reflexivity.<br/>
Qed.<br/>
<span class="comment">(*&nbsp;end&nbsp;hide&nbsp;*)</span><br/>
*)</span><br/>

<br/>
</div>

<div class="doc">
<a id="lab228"></a><h2 class="section">Relacje surjektywne</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">Surjective</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">S_Fun</span> :&gt; <span class="id" title="var">Functional</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">S_RT</span> :&gt; <span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span>;<br/>
}.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;surjective<br/>
[export]
Instance sur_to_Surjective :
  forall (A B : Type) (f : A -> B),
    surjective f -> Surjective (fun (a : A) (b : B) => f a = b).
(* begin hide *)</span><br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">rel</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*&nbsp;end&nbsp;hide&nbsp;*)</span><br/>
*)<br/>
<br/>
</div>

<div class="doc">
Relacje funkcyjne, które są prawostronnie totalne, odpowiadają funkcjom
    surjektywnym. 
</div>
<div class="code">
<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Surjective_eq</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">Surjective</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Surjective_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Surjective</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Surjective</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">Surjective</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Surjective_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Surjective</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">Surjective</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Surjective_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Surjective</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Surjective</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Surjective</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Surjective_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Surjective</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Surjective</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Surjective</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Surjective_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Surjective</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">Surjective</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Właściwości relacji surjektywnych także są podobne do tych, jakie są
    udziałem relacji funkcyjnych. 
<div class="paragraph"> </div>

<a id="lab229"></a><h2 class="section">Relacje bijektywne</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">Bijective</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">B_Fun</span> :&gt; <span class="id" title="var">Functional</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">B_LU</span> :&gt; <span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">B_RT</span> :&gt; <span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span>;<br/>
}.<br/>

<br/>

<br/>
</div>

<div class="doc">
Relacje funkcyjne, które są lewostronnie totalne (czyli injektywne) oraz
    prawostronnie totalne (czyli surjektywne), odpowiadają bijekcjom. 
</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Bijective_eq</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>, <span class="id" title="var">Bijective</span> (@<span class="id" title="var">eq</span> <span class="id" title="var">A</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Bijective_Rcomp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Bijective</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Bijective</span> <span class="id" title="var">S</span> -&gt; <span class="id" title="var">Bijective</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">Bijective_Rinv</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Bijective</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Bijective</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Bijective_Rand</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Bijective</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Bijective</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Bijective</span> (<span class="id" title="var">Rand</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Bijective_Ror</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> <span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Bijective</span> <span class="id" title="var">R</span> /\ <span class="id" title="var">Bijective</span> <span class="id" title="var">S</span> /\ ~ <span class="id" title="var">Bijective</span> (<span class="id" title="var">Ror</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">not_Bijective_Rnot</span> :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Bijective</span> <span class="id" title="var">R</span> /\ ~ <span class="id" title="var">Bijective</span> (<span class="id" title="var">Rnot</span> <span class="id" title="var">R</span>).<br/>

<br/>
</div>

<div class="doc">
Właściwości relacji bijektywnych różnią się jednym szalenie istotnym
    detalem od właściwości relacji funkcyjnych, injektywnych i surjektywnych:
    odwrotność relacji bijektywnej jest relacją bijektywną. 
<div class="paragraph"> </div>

<a id="lab230"></a><h1 class="section">Nieco więcej o relacjach funkcyjnych (TODO)</h1>

<div class="paragraph"> </div>

 Pojęcie relacji funkcyjnej jest dość zwodnicze, więc pochylimy się nad nim
    nieco dłużej. 
<div class="paragraph"> </div>

<a id="lab231"></a><h2 class="section">Relacje funkcyjne a aksjomat wyboru (TODO)</h2>

<div class="paragraph"> </div>

 Tutaj zademonstrować różnicę między <span class="inlinecode"><span class="id" title="var">Functional</span></span> a poniższym tworem: 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">FunctionalAC</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">fac</span> : <span class="id" title="tactic">exists</span> <span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>, <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>), <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> &lt;-&gt; <span class="id" title="var">f</span> <span class="id" title="var">a</span> = <span class="id" title="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab232"></a><h2 class="section">Relacje funkcyjne a funkcje (TODO)</h2>

<div class="paragraph"> </div>

 Tutaj powtórka historyjki z rozdziału o rozstrzygalności. Dowiedzieliśmy
    się tam, że fakt, że zdanie jest określone, nie oznacza jeszcze, że jest
    ono rozstrzygalne. Zdanie jest określone, gdy zachodzi dla niego
    wyłączony środek, zaś rozstrzygalne, gdy istnieje program, który sprawdza,
    która z tych dwóch możliwości zachodzi. Podobna sytuacja ma miejsce dla
    przeróżnych porządków: to, że relacja jest np. trychotomiczna, nie znaczy
    jeszcze, że potrafimy napisać program, który sprawdza, który z argumentów
    jest większy.

<div class="paragraph"> </div>

    Z relacjami funkcyjnymi jest podobnie: to, że relacja jest funkcyjna, nie
    znaczy od razu, że potrafimy znaleźć funkcję, której jest ona wykresem. 
<div class="paragraph"> </div>

<a id="lab233"></a><h2 class="section">Relacje wykresowe (TODO)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <span class="id" title="var">Graphic</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="keyword">Prop</span>) : <span class="id" title="keyword">Type</span> :=<br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">grapher</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">is_graph</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>), <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> &lt;-&gt; <span class="id" title="var">grapher</span> <span class="id" title="var">a</span> = <span class="id" title="var">b</span>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab234"></a><h1 class="section">Zależności między różnymi rodzajami relacji</h1>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">CoReflexive_LeftUnique</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">rel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">CoReflexive</span> (<span class="id" title="var">Rcomp</span> <span class="id" title="var">R</span> (<span class="id" title="var">Rinv</span> <span class="id" title="var">R</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Reflexive_from_Symmetric_Transitive_RightTotal</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">rel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Symmetric</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Transitive</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">Reflexive</span> <span class="id" title="var">R</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftTotal_Reflexive</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">rel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Reflexive</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftTotal</span> <span class="id" title="var">R</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightTotal_Reflexive</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">rel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Reflexive</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightTotal</span> <span class="id" title="var">R</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">LeftUnique_CoReflexive</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">rel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CoReflexive</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">LeftUnique</span> <span class="id" title="var">R</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>]<br/>
<span class="id" title="keyword">Instance</span> <span class="id" title="var">RightUnique_CoReflexive</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">rel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CoReflexive</span> <span class="id" title="var">R</span> -&gt; <span class="id" title="var">RightUnique</span> <span class="id" title="var">R</span>.<br/>
</div>
