<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="coqdoc.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery-3.5.1.js"></script>
<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="MyStyles.js"></script>
<title>Typonomikon</title>
</head>
<h1 class="libtitle">D7: Listy niepuste [TODO]</h1>

<div class="code">
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">Nel</span> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> := <span class="id" title="var">Cons</span><br/>
{<br/>
&nbsp;&nbsp;<span class="id" title="var">hd</span> : <span class="id" title="var">A</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">tl</span> : <span class="id" title="var">option</span> (<span class="id" title="var">Nel</span> <span class="id" title="var">A</span>);<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">hd</span> {<span class="id" title="var">A</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">tl</span> {<span class="id" title="var">A</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Arguments</span> <span class="id" title="var">Cons</span> {<span class="id" title="var">A</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">Nel_ind'</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">P</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">hd'</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">h</span> : <span class="id" title="var">A</span>, <span class="id" title="var">P</span> (<span class="id" title="var">Cons</span> <span class="id" title="var">h</span> <span class="id" title="var">None</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">tl'</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">h</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span>), <span class="id" title="var">P</span> <span class="id" title="var">t</span> -&gt; <span class="id" title="var">P</span> (<span class="id" title="var">Cons</span> <span class="id" title="var">h</span> (<span class="id" title="var">Some</span> <span class="id" title="var">t</span>)))<br/>
&nbsp;&nbsp;(<span class="id" title="var">l</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">l</span>} : <span class="id" title="var">P</span> <span class="id" title="var">l</span> :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
| {| <span class="id" title="var">hd</span> := <span class="id" title="var">h</span>; <span class="id" title="var">tl</span> := <span class="id" title="var">None</span> |}   =&gt; <span class="id" title="var">hd'</span> <span class="id" title="var">h</span><br/>
| {| <span class="id" title="var">hd</span> := <span class="id" title="var">h</span>; <span class="id" title="var">tl</span> := <span class="id" title="var">Some</span> <span class="id" title="var">t</span> |} =&gt; <span class="id" title="var">tl'</span> <span class="id" title="var">h</span> <span class="id" title="var">t</span> (<span class="id" title="var">Nel_ind'</span> <span class="id" title="var">A</span> <span class="id" title="var">P</span> <span class="id" title="var">hd'</span> <span class="id" title="var">tl'</span> <span class="id" title="var">t</span>)<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nsingl</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">A</span>) : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">hd</span> := <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">tl</span> := <span class="id" title="var">None</span>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">nmap</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span>) : <span class="id" title="var">Nel</span> <span class="id" title="var">B</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">hd</span> := <span class="id" title="var">f</span> (<span class="id" title="var">hd</span> <span class="id" title="var">l</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">tl</span> := <span class="id" title="var">option_map</span> (<span class="id" title="var">nmap</span> <span class="id" title="var">f</span>) (<span class="id" title="var">tl</span> <span class="id" title="var">l</span>);<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">napp</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span>) : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span> :=<br/>
{|<br/>
&nbsp;&nbsp;<span class="id" title="var">hd</span> := <span class="id" title="var">hd</span> <span class="id" title="var">l1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">tl</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">tl</span> <span class="id" title="var">l1</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">None</span> =&gt; <span class="id" title="var">Some</span> <span class="id" title="var">l2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Some</span> <span class="id" title="var">t1</span> =&gt; <span class="id" title="var">Some</span> (<span class="id" title="var">napp</span> <span class="id" title="var">t1</span> <span class="id" title="var">l2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">napp_assoc</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">l3</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">napp</span> (<span class="id" title="var">napp</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>) <span class="id" title="var">l3</span> = <span class="id" title="var">napp</span> <span class="id" title="var">l1</span> (<span class="id" title="var">napp</span> <span class="id" title="var">l2</span> <span class="id" title="var">l3</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h</span> | <span class="id" title="var">h</span> <span class="id" title="var">t</span>] <span class="id" title="keyword">using</span> <span class="id" title="var">Nel_ind'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IHt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nmap_napp</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nmap</span> <span class="id" title="var">f</span> (<span class="id" title="var">napp</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>) = <span class="id" title="var">napp</span> (<span class="id" title="var">nmap</span> <span class="id" title="var">f</span> <span class="id" title="var">l1</span>) (<span class="id" title="var">nmap</span> <span class="id" title="var">f</span> <span class="id" title="var">l2</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h</span> | <span class="id" title="var">h</span> <span class="id" title="var">t</span>] <span class="id" title="keyword">using</span> <span class="id" title="var">Nel_ind'</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IHt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">relate_Nel</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">RA</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <span class="id" title="var">Nel</span> <span class="id" title="var">A</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">RA</span> (<span class="id" title="var">hd</span> <span class="id" title="var">l1</span>) (<span class="id" title="var">hd</span> <span class="id" title="var">l2</span>) /\<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">tl</span> <span class="id" title="var">l1</span>, <span class="id" title="var">tl</span> <span class="id" title="var">l2</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">None</span>, <span class="id" title="var">None</span> =&gt; <span class="id" title="var">True</span><br/>
| <span class="id" title="var">Some</span> <span class="id" title="var">t1</span>, <span class="id" title="var">Some</span> <span class="id" title="var">t2</span> =&gt; <span class="id" title="var">relate_Nel</span> <span class="id" title="var">RA</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span><br/>
| <span class="id" title="var">_</span>      , <span class="id" title="var">_</span>       =&gt; <span class="id" title="var">False</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*<br/>
Inductive&nbsp;Relate_Nel&nbsp;{A&nbsp;:&nbsp;Type}&nbsp;(R&nbsp;:&nbsp;A&nbsp;-&gt;&nbsp;A&nbsp;-&gt;&nbsp;Prop)&nbsp;(l1&nbsp;l2&nbsp;:&nbsp;Nel&nbsp;A)&nbsp;:&nbsp;Prop&nbsp;:=<br/>
{<br/>
&nbsp;&nbsp;relate_hd&nbsp;:&nbsp;R&nbsp;(hd&nbsp;l1)&nbsp;(hd&nbsp;l2);<br/>
&nbsp;&nbsp;relate_tl&nbsp;:&nbsp;Relate_option&nbsp;(Relate_Nel&nbsp;R)&nbsp;(tl&nbsp;l1)&nbsp;(tl&nbsp;l2);<br/>
}.<br/>
<br/>
Arguments&nbsp;relate_hd&nbsp;{A&nbsp;R&nbsp;l1&nbsp;l2}&nbsp;_.<br/>
Arguments&nbsp;relate_tl&nbsp;{A&nbsp;R&nbsp;l1&nbsp;l2}&nbsp;_.<br/>
<br/>
Lemma&nbsp;eq_Nel_intro&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;{A&nbsp;:&nbsp;Type}&nbsp;{l1&nbsp;l2&nbsp;:&nbsp;Nel&nbsp;A},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Relate_Nel&nbsp;eq&nbsp;l1&nbsp;l2&nbsp;-&gt;&nbsp;l1&nbsp;=&nbsp;l2.<br/>
Proof.<br/>
&nbsp;&nbsp;fix&nbsp;IH&nbsp;4.<br/>
&nbsp;&nbsp;destruct&nbsp;1,&nbsp;l1&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">h1</span></span> <span class="inlinecode"><span class="id" title="var">t1</span></span>,&nbsp;l2&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">h2</span></span> <span class="inlinecode"><span class="id" title="var">t2</span></span>;&nbsp;cbn&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;apply&nbsp;f_equal2.<br/>
&nbsp;&nbsp;-&nbsp;easy.<br/>
&nbsp;&nbsp;-&nbsp;inversion&nbsp;relate_tl0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;easy.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;now&nbsp;apply&nbsp;f_equal,&nbsp;IH.<br/>
Defined.<br/>
<br/>
Lemma&nbsp;eq_Nel_intro'&nbsp;:<br/>
&nbsp;&nbsp;forall&nbsp;{A&nbsp;:&nbsp;Type}&nbsp;{l1&nbsp;l2&nbsp;:&nbsp;Nel&nbsp;A},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;relate_Nel&nbsp;eq&nbsp;l1&nbsp;l2&nbsp;-&gt;&nbsp;l1&nbsp;=&nbsp;l2.<br/>
Proof.<br/>
&nbsp;&nbsp;fix&nbsp;IH&nbsp;2.<br/>
&nbsp;&nbsp;destruct&nbsp;l1&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">h1</span></span> <span class="inlinecode">[<span class="id" title="var">t1</span></span> <span class="inlinecode">|]</span>,&nbsp;l2&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">h2</span></span> <span class="inlinecode">[<span class="id" title="var">t2</span></span> <span class="inlinecode">|]</span>;&nbsp;&nbsp;intros&nbsp;<span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span>;&nbsp;cbn&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;-&nbsp;apply&nbsp;f_equal2;&nbsp;<span class="inlinecode"><span class="id" title="var">easy</span></span> <span class="inlinecode">|</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;apply&nbsp;f_equal,&nbsp;IH.<br/>
&nbsp;&nbsp;-&nbsp;easy.<br/>
&nbsp;&nbsp;-&nbsp;easy.<br/>
&nbsp;&nbsp;-&nbsp;now&nbsp;apply&nbsp;f_equal2.<br/>
Defined.<br/>
*)</span></div>
